!function(n){function t(){var t=n(".nav-container-inner").width()-10,e=n("#main-nav").width(),a=n("#sub-nav").width();if(e+a>t){0==n(".main-nav-more").length&&(n(['<li class="main-nav-list-item top-level-menu main-nav-more">','<a class="main-nav-list-link" href="javascript:;">More</a>','<ul class="main-nav-list-child">',"</ul></li>"].join("")).appendTo(n("#main-nav")),n(".main-nav-more").hover(function(){n(window).width()<480||n(this).children(".main-nav-list-child").slideDown("fast")},function(){n(window).width()<480||n(this).children(".main-nav-list-child").slideUp("fast")}));for(var i=n("#main-nav").children().length,l=i-2;l>=0;l--){var s=n("#main-nav").children().eq(l);if(!(e+a>t))return;s.prependTo(n(".main-nav-more > ul")),e=n("#main-nav").width()}}n(".main-nav-more").length>0&&(n(".main-nav-more > ul").children().appendTo(n("#main-nav")),n(".main-nav-more").remove())}if(n("#back-to-top").on("click",function(){n("body, html").animate({scrollTop:0},600)}),n("#main-nav-toggle").on("click",function(){n(".nav-container-inner").slideToggle()}),n(".article-entry").each(function(t){n(this).find("img").each(function(){!this.alt||n.prototype.justifiedGallery&&n(this).parent(".justified-gallery").length||n(this).after('<span class="caption">'+this.alt+"</span>"),"A"!==n(this).parent().prop("tagName")&&n(this).wrap('<a href="'+this.src+'" title="'+this.alt+'" class="gallery-item"></a>')})}),"undefined"!=typeof lightGallery){var e={selector:".gallery-item"};n(".article-entry").each(function(n,t){lightGallery(t,e)}),lightGallery(n(".article-gallery")[0],e)}if(n.prototype.justifiedGallery){var e={rowHeight:140,margins:4,lastRow:"justify"};n(".justified-gallery").justifiedGallery(e)}n("#sidebar .sidebar-toggle").click(function(){n("#sidebar").hasClass("expend")?n("#sidebar").removeClass("expend"):n("#sidebar").addClass("expend")}),n(".main-nav-list > li").unwrap(),n("#main-nav > li > .main-nav-list-link").each(function(){n(".page-title-link").length>0&&(n(this).html().toUpperCase()==n(".page-title-link").html().toUpperCase()?n(this).addClass("current"):n(this).attr("href")==n(".page-title-link").attr("data-url")&&n(this).addClass("current"))}),t(),n(window).resize(function(){t()}),n(".main-nav-list-item").hover(function(){n(window).width()<480||n(this).children(".main-nav-list-child").slideDown("fast")},function(){n(window).width()<480||n(this).children(".main-nav-list-child").slideUp("fast")}),n(".main-nav-list-item").each(function(){n(this).find(".main-nav-list-child").length>0&&n(this).addClass("top-level-menu")})}(jQuery);var bszCaller,bszTag;!function(){var n,t,e,a=!1,i=[];ready=function(n){return a||"interactive"===document.readyState||"complete"===document.readyState?n.call(document):i.push(function(){return n.call(this)}),this},t=function(){for(var n=0,t=i.length;t>n;n++)i[n].apply(document);i=[]},e=function(){a||(a=!0,t.call(window),document.removeEventListener?document.removeEventListener("DOMContentLoaded",e,!1):document.attachEvent&&(document.detachEvent("onreadystatechange",e),window==window.top&&(clearInterval(n),n=null)))},document.addEventListener?document.addEventListener("DOMContentLoaded",e,!1):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){/loaded|complete/.test(document.readyState)&&e()}),window==window.top&&(n=setInterval(function(){try{a||document.documentElement.doScroll("left")}catch(n){return}e()},5)))}(),bszCaller={fetch:function(n,t){var e="BusuanziCallback_"+Math.floor(1099511627776*Math.random());window[e]=this.evalCall(t),n=n.replace("=BusuanziCallback","="+e),scriptTag=document.createElement("SCRIPT"),scriptTag.type="text/javascript",scriptTag.defer=!0,scriptTag.src=n,document.getElementsByTagName("HEAD")[0].appendChild(scriptTag)},evalCall:function(n){return function(t){ready(function(){try{n(t),scriptTag.parentElement.removeChild(scriptTag)}catch(n){bszTag.hides()}})}}},bszCaller.fetch("//busuanzi.ibruce.info/busuanzi?jsonpCallback=BusuanziCallback",function(n){bszTag.texts(n),bszTag.shows()}),bszTag={bszs:["site_pv","page_pv","site_uv"],texts:function(n){this.bszs.map(function(t){var e=document.getElementById("busuanzi_value_"+t);e&&(e.innerHTML=n[t])})},hides:function(){this.bszs.map(function(n){var t=document.getElementById("busuanzi_container_"+n);t&&(t.style.display="none")})},shows:function(){this.bszs.map(function(n){var t=document.getElementById("busuanzi_container_"+n);t&&(t.style.display="inline")})}};